{"version":3,"sources":["webpack:///./src/components/privileges/PrivilegeTree.vue?8f72","webpack:///src/components/privileges/PrivilegeTree.vue","webpack:///./src/components/privileges/PrivilegeTree.vue?cadc","webpack:///./src/components/privileges/PrivilegeTree.vue","webpack:///./src/components/privileges/PrivilegeTree.vue?d10f","webpack:///./src/components/clients/ClientAuthDialog.vue?b787","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/clients/ClientSection.vue?8af8","webpack:///./src/components/clients/ClientSection.vue?7dd9","webpack:///./src/components/clients/ClientDialog.vue?5533","webpack:///src/components/clients/ClientDialog.vue","webpack:///./src/components/clients/ClientDialog.vue?a5ab","webpack:///./src/components/clients/ClientDialog.vue","webpack:///./src/components/clients/ClientAuthDialog.vue?ae14","webpack:///src/components/clients/ClientAuthDialog.vue","webpack:///./src/components/clients/ClientAuthDialog.vue?909d","webpack:///./src/components/clients/ClientAuthDialog.vue","webpack:///src/components/clients/ClientSection.vue","webpack:///./src/components/clients/ClientSection.vue?9ac6","webpack:///./src/components/clients/ClientSection.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","margin-bottom","attrs","span","height","line-height","_v","offset","placeholder","model","value","callback","$$v","privilegeFilter","expression","type","size","on","click","event","add","_e","ref","data","tree","node-key","accordion","lazy","load","asyncLoadTreeNode","filter-node-method","filterNode","props","defaultProps","show-checkbox","highlight-current","expand-on-click-node","node-click","clickNode","scopedSlots","_u","key","fn","node","staticClass","_s","name","edit","remove","staticRenderFns","PrivilegeTreevue_type_script_lang_js","showActionButton","Boolean","require","default","isLeaf","watch","newV","oldV","$refs","filter","methods","_asyncLoadTreeNode","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","resolve","nodes","result","wrap","_context","prev","next","level","$api","privileges","gerPrivilegeList","id","sent","forEach","push","code","parentId","path","leaf","childCount","stop","_x","_x2","apply","arguments","initTreeNodes","_initTreeNodes","_callee2","res","_context2","console","log","dataId","gerPrivilege","indexOf","$emit","self","getCheckedNodes","getElementTreeRef","computed","localStorage","getItem","mounted","privileges_PrivilegeTreevue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PrivilegeTree_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ClientAuthDialog_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ClientSection_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","inline","searchForm","label","$set","refreshTable","directives","rawName","previlegeCodes","arg","loading","width","tableData","highlight-current-row","border","prop","show-overflow-tooltip","fixed","scope","row","state","$event","authorize","enable","disable","margin-top","background","page-sizes","pageList","page-size","pageSize","current-page","pageNumber","layout","total","size-change","pageSizeChangeHandler","current-change","pageNumberChangeHandler","dialog","afterAction","ClientDialogvue_type_template_id_73304e82_render","refs","title","visible","fullscreen","update:visible","close","reset","form","content","rules","label-width","nativeOn","submit","preventDefault","disabled","_l","preservedData","token","VALUE","TEXT","dataPrivilegeName","dataPrivilege","show-action-button","nodeClick","padding-left","generateKeyIng","generateKeys","min","onSubmit","ClientDialogvue_type_template_id_73304e82_staticRenderFns","ClientDialogvue_type_script_lang_js","components","PrivilegeTree","clientId","clientCode","clientName","clientType","accessStrategy","innerUrl","outterUrl","dispOrder","clientDesc","accessTokenPublicKey","accessTokenPrivateKey","required","message","trigger","clientTypes","accessStrategies","_this","clients","then","keys","publicKey","privateKey","showAddClientDialog","_showAddClientDialog","response","getLastestDisplayOrder","t0","$message","showClose","meta","showEditClientDialog","_showEditClientDialog","getClientsByClientId","clearValidate","resetFields","_this2","validate","_ref","_callee3","valid","_context3","abrupt","addClient","editClient","created","_created","_callee4","_ref2","_ref3","_context4","Promise","all","getAccessStrategies","getClientType","slicedToArray","clients_ClientDialogvue_type_script_lang_js","ClientDialog","ClientAuthDialogvue_type_template_id_28311fbc_render","open","handleOpen","font-size","handleSaveClientAuths","filterable","filter-method","filterMethod","filter-placeholder","titles","availableClients","ClientAuthDialogvue_type_template_id_28311fbc_staticRenderFns","ClientAuthDialogvue_type_script_lang_js","query","item","addClientAuths","map","sourceClientId","targetClientId","error","getAvailableClients","showClientAuthDialog","_showClientAuthDialog","_this3","getClientAuths","_this4","getClients","clients_ClientAuthDialogvue_type_script_lang_js","ClientAuthDialog_component","ClientAuthDialog","ClientSectionvue_type_script_lang_js","client-dialog","constants","PAGE_SIZE","PAGE_LIST","search","table","fetchTableData","_fetchTableData","tableResponse","_args","length","undefined","getClientsByPage","list","pageNum","$confirm","concat","enableClient","catch","_disable","getRelatedRoles","disableClient","clients_ClientSectionvue_type_script_lang_js","ClientSection_component"],"mappings":"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","file":"js/8.30a9a6f4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showActionButton)?_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('span',{staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\"}},[_vm._v(\"数据权限名称\")])]),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('el-input',{attrs:{\"placeholder\":\"数据权限\"},model:{value:(_vm.privilegeFilter),callback:function ($$v) {_vm.privilegeFilter=$$v},expression:\"privilegeFilter\"}})],1),_c('el-col',{staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\"},attrs:{\"span\":4,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function (event) { return _vm.add(event); }}},[_vm._v(\"新增\")])],1)],1):_vm._e(),_c('el-tree',{ref:_vm.ref,attrs:{\"data\":_vm.tree.data,\"node-key\":\"id\",\"accordion\":\"\",\"lazy\":true,\"load\":_vm.asyncLoadTreeNode,\"filter-node-method\":_vm.filterNode,\"props\":_vm.tree.defaultProps,\"show-checkbox\":false,\"highlight-current\":true,\"expand-on-click-node\":false},on:{\"node-click\":_vm.clickNode},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(data.name))]),(_vm.showActionButton)?_c('span',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.add(event, data, node); }}},[_vm._v(\"新增\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.edit(event, data, node); }}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.remove(event, data, node); }}},[_vm._v(\"删除\")])],1):_vm._e()])}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row v-if=\"showActionButton\" style=\"margin-bottom: 20px;\">\r\n      <el-col :span=\"6\">\r\n        <span style=\"height: 40px;line-height: 40px\">数据权限名称</span>\r\n      </el-col>\r\n      <el-col :span=\"10\" :offset=\"1\">\r\n        <el-input placeholder=\"数据权限\" v-model=\"privilegeFilter\"></el-input>\r\n      </el-col>\r\n      <el-col :span=\"4\" :offset=\"1\" style=\"height: 40px;line-height: 40px\">\r\n        <el-button type=\"primary\" @click=\"(event) => add(event)\" size=\"medium\">新增</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-tree\r\n        :ref=\"ref\" :data=\"tree.data\" node-key=\"id\" accordion :lazy=\"true\"\r\n        :load=\"asyncLoadTreeNode\"\r\n        :filter-node-method=\"filterNode\"\r\n        :props=\"tree.defaultProps\"\r\n        :show-checkbox=\"false\"\r\n        :highlight-current=\"true\"\r\n        :expand-on-click-node=\"false\"\r\n        @node-click=\"clickNode\">\r\n    <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n      <span>{{ data.name }}</span>\r\n      <span v-if=\"showActionButton\">\r\n        <el-button type=\"text\" size=\"mini\"\r\n                   @click=\"(event) => add(event, data, node)\">新增</el-button>\r\n        <el-button type=\"text\" size=\"mini\"\r\n                   @click=\"(event) => edit(event, data, node)\">修改</el-button>\r\n        <el-button type=\"text\" size=\"mini\"\r\n                   @click=\"(event) => remove(event, data, node)\">删除</el-button>\r\n      </span>\r\n    </span>\r\n  \r\n    </el-tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"privilegeTree\",\r\n    props: {\r\n      showActionButton: {\r\n        type: Boolean,\r\n        require: false,\r\n        default: false\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        ref: 'tree',\r\n        privilegeFilter: '',\r\n        tree: {\r\n          data: [],\r\n          defaultProps: {\r\n            isLeaf: 'leaf'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      'privilegeFilter'(newV, oldV) {\r\n        this.$refs[this.ref].filter(newV)\r\n      }\r\n    },\r\n    methods: {\r\n      async asyncLoadTreeNode(node, resolve) {\r\n        if(node.level !== 0){\r\n          let nodes = [];\r\n          let result = await this.$api.privileges.gerPrivilegeList(node.data.id, '');\r\n          result.data.data && result.data.data.forEach( node => {\r\n            // console.log('node',node)\r\n            nodes.push({\r\n              id: node.id,\r\n              code: node.code,\r\n              name: node.name,\r\n              parentId: node.parentId,\r\n              path: node.path,\r\n              leaf: node.childCount === 0\r\n            })\r\n          });\r\n          resolve(nodes);\r\n        }\r\n      },\r\n      async initTreeNodes() {\r\n        // console.log('localStorage.getItem)',localStorage.getItem('dataId'))\r\n        this.tree.data = [];\r\n        console.log('dataId',this.dataId)\r\n        let res = await this.$api.privileges.gerPrivilege(this.dataId);\r\n        // console.log('res',res)\r\n        res.data.data && this.tree.data.push({\r\n          id: res.data.data.id,\r\n          code: res.data.data.code,\r\n          name: res.data.data.name,\r\n          parentId: res.data.data.parentId,\r\n          path: res.data.data.path,\r\n          leaf: res.data.data.childCount === 0\r\n        })\r\n      },\r\n      filterNode(value, data) {\r\n        if (!value) {\r\n          return true\r\n        }\r\n        return data.name.indexOf(value) !== -1\r\n      },\r\n      add(event, data, node) {\r\n        this.$emit('add', event, data, node);\r\n      },\r\n      edit(event, data, node) {\r\n        this.$emit('edit', event, data, node);\r\n      },\r\n      remove(event, data, node) {\r\n        this.$emit('remove', event, data, node);\r\n      },\r\n      clickNode(data, node, self) {\r\n        this.$emit('clickNode', data, node, self);\r\n      },\r\n      getCheckedNodes() {\r\n        return this.$refs[this.ref].getCheckedNodes();\r\n      },\r\n      getElementTreeRef() {\r\n        return this.$refs[this.ref];\r\n      },\r\n    },\r\n    computed: {\r\n      dataId() {\r\n        return localStorage.getItem('dataId') === '' ? '-1' : localStorage.getItem('dataId');\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initTreeNodes();\r\n    },\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .custom-tree-node {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 14px;\r\n    padding-right: 12px;\r\n  }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivilegeTree.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivilegeTree.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PrivilegeTree.vue?vue&type=template&id=5469abfe\"\nimport script from \"./PrivilegeTree.vue?vue&type=script&lang=js\"\nexport * from \"./PrivilegeTree.vue?vue&type=script&lang=js\"\nimport style0 from \"./PrivilegeTree.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivilegeTree.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivilegeTree.vue?vue&type=style&index=0&lang=css\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientAuthDialog.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientAuthDialog.vue?vue&type=style&index=0&lang=css\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientSection.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientSection.vue?vue&type=style&index=0&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_c('el-row',[_c('el-col',{staticClass:\"el-header\",attrs:{\"span\":24}},[_c('el-form',{staticClass:\"formHeaderStyle\",attrs:{\"inline\":true},model:{value:(_vm.searchForm),callback:function ($$v) {_vm.searchForm=$$v},expression:\"searchForm\"}},[_c('el-form-item',{attrs:{\"label\":\"系统名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"系统名称\"},model:{value:(_vm.searchForm.clientName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"clientName\", $$v)},expression:\"searchForm.clientName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统编码\"}},[_c('el-input',{attrs:{\"placeholder\":\"系统编码\"},model:{value:(_vm.searchForm.clientCode),callback:function ($$v) {_vm.$set(_vm.searchForm, \"clientCode\", $$v)},expression:\"searchForm.clientCode\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统状态\"}},[_c('el-select',{model:{value:(_vm.searchForm.state),callback:function ($$v) {_vm.$set(_vm.searchForm, \"state\", $$v)},expression:\"searchForm.state\"}},[_c('el-option',{attrs:{\"value\":\"\",\"label\":\"全部\"}}),_c('el-option',{attrs:{\"value\":\"10A\",\"label\":\"正常\"}}),_c('el-option',{attrs:{\"value\":\"10X\",\"label\":\"已注销\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.refreshTable}},[_vm._v(\"查询\\n            \")])],1),_c('el-form-item',[_c('el-button',{directives:[{name:\"shiro\",rawName:\"v-shiro:hasPermission\",value:(_vm.previlegeCodes.add),expression:\"previlegeCodes.add\",arg:\"hasPermission\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\\n            \")])],1)],1)],1)],1)],1),_c('el-main',[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading.table),expression:\"loading.table\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.data,\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"clientName\",\"label\":\"系统名称\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"clientCode\",\"label\":\"系统编码\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"clientTypeName\",\"label\":\"系统类型\",\"width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"accessStrategyName\",\"label\":\"访问控制\",\"width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"innerUrl\",\"label\":\"内网地址\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"outterUrl\",\"label\":\"外网地址\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"230px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state === '10A')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.authorize(scope.row)}}},[_vm._v(\"授权\\n              \")]):_vm._e(),(scope.row.state === '10A')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"编辑\\n              \")]):_vm._e(),(scope.row.state !== '10A')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.enable(scope.row)}}},[_vm._v(\"激活\\n              \")]):_vm._e(),(scope.row.state === '10A')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.disable(scope.row)}}},[_vm._v(\"注销\\n              \")]):_vm._e()]}}])})],1)],1),_c('el-col',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-sizes\":_vm.tableData.pageList,\"page-size\":_vm.tableData.pageSize,\"current-page\":_vm.tableData.pageNumber,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.tableData.total},on:{\"size-change\":_vm.pageSizeChangeHandler,\"current-change\":_vm.pageNumberChangeHandler}})],1)],1),_c('client-dialog',{ref:_vm.ref.dialog,on:{\"afterAction\":_vm.refreshTable}}),_c('client-auth-dialog',{ref:_vm.ref.authorize})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{ref:_vm.refs.dialog,attrs:{\"title\":_vm.dialog.title,\"visible\":_vm.dialog.visible,\"fullscreen\":true,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.$set(_vm.dialog, \"visible\", $event)},\"close\":_vm.reset}},[_c('el-form',{ref:_vm.refs.form,attrs:{\"model\":_vm.form.content,\"rules\":_vm.form.rules,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"系统编码\",\"prop\":\"clientCode\"}},[_c('el-input',{attrs:{\"disabled\":true,\"placeholder\":\"系统自动生成\"},model:{value:(_vm.form.content.clientCode),callback:function ($$v) {_vm.$set(_vm.form.content, \"clientCode\", $$v)},expression:\"form.content.clientCode\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统名称\",\"prop\":\"clientName\"}},[_c('el-input',{model:{value:(_vm.form.content.clientName),callback:function ($$v) {_vm.$set(_vm.form.content, \"clientName\", $$v)},expression:\"form.content.clientName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统类型\",\"prop\":\"clientType\"}},[_c('el-radio-group',{model:{value:(_vm.form.content.clientType),callback:function ($$v) {_vm.$set(_vm.form.content, \"clientType\", $$v)},expression:\"form.content.clientType\"}},_vm._l((_vm.form.preservedData.clientTypes),function(token){return _c('el-radio',{key:token.VALUE,attrs:{\"label\":token.VALUE}},[_vm._v(_vm._s(token.TEXT)+\"\\n        \")])}))],1),_c('el-form-item',{attrs:{\"label\":\"访问控制\",\"prop\":\"accessStrategy\"}},[_c('el-radio-group',{model:{value:(_vm.form.content.accessStrategy),callback:function ($$v) {_vm.$set(_vm.form.content, \"accessStrategy\", $$v)},expression:\"form.content.accessStrategy\"}},_vm._l((_vm.form.preservedData.accessStrategies),function(token){return _c('el-radio',{key:token.VALUE,attrs:{\"label\":token.VALUE}},[_vm._v(_vm._s(token.TEXT)+\"\\n        \")])}))],1),_c('el-form-item',{attrs:{\"label\":\"数据权限\",\"prop\":\"dataPrivilege\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请输入数据权限\"},model:{value:(_vm.form.content.dataPrivilege),callback:function ($$v) {_vm.$set(_vm.form.content, \"dataPrivilege\", $$v)},expression:\"form.content.dataPrivilege\"}},[_c('el-option',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":_vm.form.content.dataPrivilegeName,\"value\":_vm.form.content.dataPrivilege}},[_c('privilege-tree',{attrs:{\"show-action-button\":false},on:{\"clickNode\":_vm.nodeClick}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"内网地址\",\"prop\":\"innerUrl\"}},[_c('el-input',{model:{value:(_vm.form.content.innerUrl),callback:function ($$v) {_vm.$set(_vm.form.content, \"innerUrl\", $$v)},expression:\"form.content.innerUrl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"外网地址\",\"prop\":\"outterUrl\"}},[_c('el-input',{model:{value:(_vm.form.content.outterUrl),callback:function ($$v) {_vm.$set(_vm.form.content, \"outterUrl\", $$v)},expression:\"form.content.outterUrl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统公钥\",\"prop\":\"accessTokenPublicKey\"}},[_c('el-input',{model:{value:(_vm.form.content.accessTokenPublicKey),callback:function ($$v) {_vm.$set(_vm.form.content, \"accessTokenPublicKey\", $$v)},expression:\"form.content.accessTokenPublicKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"系统私钥\",\"prop\":\"accessTokenPrivateKey\"}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{model:{value:(_vm.form.content.accessTokenPrivateKey),callback:function ($$v) {_vm.$set(_vm.form.content, \"accessTokenPrivateKey\", $$v)},expression:\"form.content.accessTokenPrivateKey\"}})],1),_c('el-col',{staticStyle:{\"padding-left\":\"0.5em\"},attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"loading\":_vm.generateKeyIng},on:{\"click\":_vm.generateKeys}},[_vm._v(\"一键生成\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"显示顺序\"}},[_c('el-input-number',{attrs:{\"min\":0},model:{value:(_vm.form.content.dispOrder),callback:function ($$v) {_vm.$set(_vm.form.content, \"dispOrder\", $$v)},expression:\"form.content.dispOrder\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{model:{value:(_vm.form.content.clientDesc),callback:function ($$v) {_vm.$set(_vm.form.content, \"clientDesc\", $$v)},expression:\"form.content.clientDesc\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog :title=\"dialog.title\" :visible.sync=\"dialog.visible\" :fullscreen=\"true\"\r\n             :ref=\"refs.dialog\" @close=\"reset\" width=\"50%\">\r\n    <el-form :model=\"form.content\" :rules=\"form.rules\" @submit.native.prevent :ref=\"refs.form\"\r\n             label-width=\"100px\"\r\n             >\r\n      <el-form-item label=\"系统编码\" prop=\"clientCode\">\r\n        <el-input v-model=\"form.content.clientCode\" :disabled=\"true\"  placeholder=\"系统自动生成\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"系统名称\" prop=\"clientName\">\r\n        <el-input v-model=\"form.content.clientName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"系统类型\" prop=\"clientType\">\r\n        <el-radio-group v-model=\"form.content.clientType\">\r\n          <el-radio v-for=\"token of form.preservedData.clientTypes\" :key=\"token.VALUE\"\r\n                    :label=\"token.VALUE\">{{token.TEXT}}\r\n          </el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"访问控制\" prop=\"accessStrategy\">\r\n        <el-radio-group v-model=\"form.content.accessStrategy\">\r\n          <el-radio v-for=\"token of form.preservedData.accessStrategies\" :key=\"token.VALUE\"\r\n                    :label=\"token.VALUE\">{{token.TEXT}}\r\n          </el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"数据权限\" prop=\"dataPrivilege\">\r\n        <el-select v-model=\"form.content.dataPrivilege\" placeholder=\"请输入数据权限\" style=\"width: 100%\">\r\n          <el-option :label=\"form.content.dataPrivilegeName\" :value=\"form.content.dataPrivilege\" style=\"height: auto\">\r\n            <privilege-tree :show-action-button=\"false\" @clickNode=\"nodeClick\"></privilege-tree>\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"内网地址\" prop=\"innerUrl\">\r\n        <el-input v-model=\"form.content.innerUrl\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"外网地址\" prop=\"outterUrl\">\r\n        <el-input v-model=\"form.content.outterUrl\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"系统公钥\" prop=\"accessTokenPublicKey\">\r\n        <el-input v-model=\"form.content.accessTokenPublicKey\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"系统私钥\" prop=\"accessTokenPrivateKey\">\r\n        <el-col :span=\"18\">\r\n          <el-input v-model=\"form.content.accessTokenPrivateKey\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"6\" style=\"padding-left: 0.5em;\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"generateKeys\" :loading=\"generateKeyIng\">一键生成</el-button>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"显示顺序\">\r\n        <el-input-number v-model=\"form.content.dispOrder\" :min=\"0\"></el-input-number>\r\n      </el-form-item>\r\n      <el-form-item label=\"备注\">\r\n        <el-input v-model=\"form.content.clientDesc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n        <el-button @click=\"reset\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport PrivilegeTree from '../privileges/PrivilegeTree';\r\n  export default {\r\n    name: 'ClientDialog',\r\n    components: {\r\n      PrivilegeTree\r\n    },\r\n    data() {\r\n      return {\r\n        refs: {\r\n          dialog: 'dialog',\r\n          form: 'form'\r\n        },\r\n        dialog: {\r\n          title: '',\r\n          visible: false\r\n        },\r\n        generateKeyIng: false,\r\n        form: {\r\n          content: {\r\n            clientId: null,\r\n            clientCode: '',\r\n            clientName: '',\r\n            clientType: '',\r\n            accessStrategy: '',\r\n            innerUrl: '',\r\n            outterUrl: '',\r\n            dispOrder: '',\r\n            clientDesc: '',\r\n            accessTokenPublicKey: '',\r\n            accessTokenPrivateKey: '',\r\n            dataPrivilege: '',\r\n            dataPrivilegeName: ''\r\n          },\r\n          rules: {\r\n            clientName: [{\r\n              required: true,\r\n              message: '请输入系统名称',\r\n              trigger: 'blur'\r\n            }],\r\n            dataPrivilege: [{\r\n              required: true,\r\n              message: '请输入数据权限',\r\n              trigger: 'blur'\r\n            }],\r\n            clientType: [{\r\n              required: true,\r\n              message: '请选择系统类型',\r\n              trigger: 'change'\r\n            }],\r\n            accessStrategy: [{\r\n              required: true,\r\n              message: '请选择访问控制',\r\n              trigger: 'change'\r\n            }]\r\n          },\r\n          preservedData: {\r\n            clientTypes: [],\r\n            accessStrategies: []\r\n          }\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      generateKeys() {\r\n        this.generateKeyIng = true;\r\n        this.$api.clients.generateKeys().then((res)=>{\r\n          let keys = res.data.data;\r\n          this.form.content.accessTokenPublicKey = keys.publicKey;\r\n          this.form.content.accessTokenPrivateKey = keys.privateKey;\r\n          this.generateKeyIng = false;\r\n        });\r\n      },\r\n      async showAddClientDialog() {\r\n        try {\r\n          // eslint-disable-next-line guard-for-in\r\n          for (const key in this.form.content) {\r\n            this.form.content[key] = '';\r\n          }\r\n          let response = await this.$api.clients.getLastestDisplayOrder();\r\n          this.form.content.dispOrder = response.data.data;\r\n          this.dialog.title = '新增';\r\n          this.dialog.visible = true;\r\n        } catch (error) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: error.data.meta.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n      },\r\n      /**\r\n       * 展示编辑窗口\r\n       * @param {string} clientId\r\n       */\r\n      async showEditClientDialog(clientId) {\r\n        try {\r\n          if (clientId !== null) {\r\n            const response = await this.$api.clients.getClientsByClientId(clientId);\r\n            this.form.content = response.data.data;\r\n            this.dialog.title = '编辑';\r\n            this.dialog.visible = true;\r\n          }\r\n        } catch (error) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: error.data.meta.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n      },\r\n      /**\r\n       * 清空表单内容与验证信息\r\n       */\r\n      reset() {\r\n        this.$refs[this.refs.form].clearValidate();\r\n        if (this.form.content.clientId === null) {\r\n          this.$refs[this.refs.form].resetFields();\r\n        }\r\n      },\r\n      /**\r\n       * 新增、编辑表单提交\r\n       */\r\n      onSubmit() {\r\n        this.$refs[this.refs.form].validate(async (valid) => {\r\n          if (!valid) {\r\n            return;\r\n          }\r\n          try {\r\n            let response = await (this.form.content.clientId === '' ? this.$api.clients.addClient(\r\n              this.form.content) : this.$api.clients.editClient(this.form.content));\r\n\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.meta.message,\r\n              type: 'success'\r\n            });\r\n            this.dialog.visible = false;\r\n            this.$emit('afterAction');\r\n          } catch (error) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: error.data.meta.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n        });\r\n      },\r\n      nodeClick(data) {\r\n        this.form.content.dataPrivilege = data.id;\r\n        this.form.content.dataPrivilegeName = data.name;\r\n      }\r\n    },\r\n    async created() {\r\n      try {\r\n        // 预设访问控制，系统类型\r\n        const [accessStrategies, clientTypes] =\r\n          await Promise.all([\r\n            this.$api.clients.getAccessStrategies(),\r\n            this.$api.clients.getClientType()\r\n          ]);\r\n        this.form.preservedData.accessStrategies = accessStrategies.data.data;\r\n        this.form.preservedData.clientTypes = clientTypes.data.data;\r\n      } catch (error) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: error.data.meta.message,\r\n          type: 'error'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClientDialog.vue?vue&type=template&id=73304e82\"\nimport script from \"./ClientDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ClientDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{ref:\"authClientManageRef\",attrs:{\"title\":\"系统授权管理\",\"visible\":_vm.dialog.visible,\"fullscreen\":true,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.$set(_vm.dialog, \"visible\", $event)},\"close\":_vm.reset,\"open\":_vm.handleOpen}},[_c('div',{staticClass:\"headerStyle\"},[_c('span',{staticStyle:{\"font-size\":\"17px\"}},[_vm._v(\"源系统: \"+_vm._s(_vm.dialog.clientName))]),_c('span',{staticClass:\"qryButtonStyle\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleSaveClientAuths}},[_vm._v(\"保存\\n    \")])],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"clientAuth\"}},[_c('el-transfer',{attrs:{\"filterable\":\"\",\"props\":{key: 'clientId',label: 'clientName'},\"filter-method\":_vm.filterMethod,\"filter-placeholder\":\"请输入系统名称或系统编码\",\"titles\":['未授权', '已授权目标系统'],\"data\":_vm.availableClients},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"系统授权管理\" :visible.sync=\"dialog.visible\" :fullscreen=\"true\"\r\n             ref=\"authClientManageRef\" @close=\"reset\" @open=\"handleOpen\" width=\"50%\">\r\n    <div class=\"headerStyle\">\r\n      <span style=\"font-size:17px\">源系统: {{dialog.clientName}}</span>\r\n      <span class=\"qryButtonStyle\"><el-button @click=\"handleSaveClientAuths\" size=\"small\" type=\"primary\">保存\r\n      </el-button></span>\r\n      </div>\r\n    <div id=\"clientAuth\" v-loading=\"loading\">\r\n      <el-transfer\r\n          filterable\r\n          :props=\"{key: 'clientId',label: 'clientName'}\"\r\n          :filter-method=\"filterMethod\"\r\n          filter-placeholder=\"请输入系统名称或系统编码\"\r\n          :titles=\"['未授权', '已授权目标系统']\"\r\n          v-model=\"value\"\r\n          :data=\"availableClients\">\r\n      </el-transfer>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ClientAuthDialog',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      dialog: {\r\n        visible: false,\r\n        clientName: '',\r\n        clientId: ''\r\n      },\r\n      data: [],\r\n      value: [],\r\n      filterMethod(query, item) {\r\n        return item.clientName.indexOf(query) > -1 || item.clientId.indexOf(query) > -1;\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    availableClients() {\r\n      return this.data.filter((e) => e.clientId !== this.dialog.clientId);\r\n    }\r\n  },\r\n  methods: {\r\n    handleSaveClientAuths() {\r\n      try {\r\n        this.loading = true;\r\n        this.$api.clients.addClientAuths(this.dialog.clientId, this.value.map((e) => {\r\n          return {\r\n            sourceClientId: this.dialog.clientId,\r\n            targetClientId: e\r\n          };\r\n        })).then((res) => {\r\n          this.loading = false;\r\n          this.$message({\r\n            message: res.data.meta.message,\r\n            type: 'success'\r\n          });\r\n        });\r\n      } catch (error) {\r\n        this.loading = false;\r\n        this.$message({\r\n          showClose: true,\r\n          message: error.data.meta.message,\r\n          type: 'error'\r\n        });\r\n      }\r\n    },\r\n    reset() {\r\n      this.value = [];\r\n    },\r\n    handleOpen() {\r\n      this.getAvailableClients();\r\n    },\r\n    /**\r\n     * 展示编辑窗口\r\n     * @param {string} clientId\r\n     */\r\n    async showClientAuthDialog(clientId, clientName) {\r\n      try {\r\n        if (clientId) {\r\n          this.$api.clients.getClientAuths(clientId).then((res) => {\r\n            console.log(res);\r\n            this.value = res.data.data.map((e) => e.targetClientId);\r\n          });\r\n          this.dialog.clientId = clientId;\r\n          this.dialog.clientName = clientName;\r\n          this.dialog.visible = true;\r\n        }\r\n      } catch (error) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: error.data.meta.message,\r\n          type: 'error'\r\n        });\r\n      }\r\n    },\r\n    getAvailableClients() {\r\n      try {\r\n        this.loading = true;\r\n        this.$api.clients.getClients({state: '10A'}).then((res) => {\r\n          this.loading = false;\r\n          this.data = res.data.data;\r\n        });\r\n      } catch (error) {\r\n        this.loading = false;\r\n        this.$message({\r\n          showClose: true,\r\n          message: error.data.meta.message,\r\n          type: 'error'\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.getAvailableClients();\r\n  }\r\n};\r\n\r\n</script>\r\n<style>\r\n  #clientAuth .el-transfer-panel__list.is-filterable {\r\n    height: 450px;\r\n  }\r\n\r\n  #clientAuth .el-transfer-panel__body {\r\n    height: 502px;\r\n  }\r\n\r\n  #clientAuth .el-transfer-panel {\r\n    width: calc(48% - 50px);\r\n  }\r\n\r\n  #clientAuth .el-transfer-panel__item.el-checkbox:hover {\r\n    background: #d8dbdd;\r\n  }\r\n\r\n  #clientAuth .el-checkbox:first-of-type {\r\n    margin-right: 0;\r\n    display: block;\r\n  }\r\n  .qryButtonStyle {\r\n    float: right;\r\n    margin: -5px;\r\n  }\r\n\r\n  .headerStyle {\r\n   padding: 10px 20px 10px;\r\n    /* margin-top: 10px; */\r\n    margin: 0px 17px 10px 24px;\r\n    border: 1px solid #EBEEF5;\r\n    width: 93.5%;\r\n  }\r\n  .el-transfer {\r\n    font-size: 14px;\r\n    margin-left: 30px;\r\n}\r\n#clientAuth .el-transfer-panel {\r\n    width: calc(49% - 50px);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientAuthDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientAuthDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClientAuthDialog.vue?vue&type=template&id=28311fbc\"\nimport script from \"./ClientAuthDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ClientAuthDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./ClientAuthDialog.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container>\r\n    <el-header>\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"el-header\">\r\n          <el-form :inline=\"true\" v-model=\"searchForm\" class=\"formHeaderStyle\">\r\n            <el-form-item label=\"系统名称\">\r\n              <el-input v-model=\"searchForm.clientName\" placeholder=\"系统名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"系统编码\">\r\n              <el-input v-model=\"searchForm.clientCode\" placeholder=\"系统编码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"系统状态\">\r\n              <el-select v-model=\"searchForm.state\">\r\n                <el-option value=\"\" label=\"全部\"></el-option>\r\n                <el-option value=\"10A\" label=\"正常\"></el-option>\r\n                <el-option value=\"10X\" label=\"已注销\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"refreshTable\">查询\r\n              </el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"add\" v-shiro:hasPermission=\"previlegeCodes.add\">新增\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n    </el-header>\r\n    <el-main>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-table :data=\"tableData.data\" highlight-current-row v-loading=\"loading.table\"\r\n                    style=\"width: 100%\" border>\r\n            <el-table-column prop=\"clientName\" label=\"系统名称\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"clientCode\" label=\"系统编码\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"clientTypeName\" label=\"系统类型\" width=\"100px\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"accessStrategyName\" label=\"访问控制\" width=\"100px\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"innerUrl\" label=\"内网地址\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"outterUrl\" label=\"外网地址\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"230px\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button v-if=\"scope.row.state === '10A'\" type=\"text\" size=\"mini\" @click=\"authorize(scope.row)\">授权\r\n                </el-button>\r\n                <el-button v-if=\"scope.row.state === '10A'\" type=\"text\" size=\"mini\" @click=\"edit(scope.row)\">编辑\r\n                </el-button>\r\n                <el-button type=\"text\" size=\"mini\" @click=\"enable(scope.row)\"\r\n                           v-if=\"scope.row.state !== '10A'\">激活\r\n                </el-button>\r\n                <el-button type=\"text\" size=\"mini\" @click=\"disable(scope.row)\"\r\n                           v-if=\"scope.row.state === '10A'\">注销\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-col>\r\n        <el-col :span=\"24\" style=\"margin-top: 10px;\">\r\n          <el-pagination background @size-change=\"pageSizeChangeHandler\"\r\n                         @current-change=\"pageNumberChangeHandler\" :page-sizes=\"tableData.pageList\"\r\n                         :page-size=\"tableData.pageSize\" :current-page=\"tableData.pageNumber\"\r\n                         layout=\"sizes, prev, pager, next\" :total=\"tableData.total\">\r\n          </el-pagination>\r\n        </el-col>\r\n      </el-row>\r\n      <client-dialog :ref=\"ref.dialog\" @afterAction=\"refreshTable\"></client-dialog>\r\n      <client-auth-dialog :ref=\"ref.authorize\"></client-auth-dialog>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\n  import constants from '@common/constants/constants';\r\n  import ClientDialog from '@components/clients/ClientDialog';\r\n  import ClientAuthDialog from './ClientAuthDialog';\r\n  export default {\r\n    name: 'ClientSection',\r\n    components: {\r\n      'client-dialog': ClientDialog,\r\n      ClientAuthDialog\r\n    },\r\n    data() {\r\n      return {\r\n        ref: {\r\n          dialog: 'dialog',\r\n          authorize: 'authClientManageRef'\r\n        },\r\n        border: true,\r\n        previlegeCodes: {\r\n          add: 'SYS_CLIENT_ADD'\r\n        },\r\n        searchForm: {\r\n          clientName: '',\r\n          clientCode: '',\r\n          state: ''\r\n        },\r\n        tableData: {\r\n          pageSize: constants.PAGE_SIZE,\r\n          pageList: constants.PAGE_LIST,\r\n          pageNumber: 1,\r\n          data: []\r\n        },\r\n        loading: {\r\n          search: false,\r\n          table: false\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取表格数据\r\n       * @param {number} pageSize\r\n       * @param {number} pageNumber\r\n       */\r\n      async fetchTableData(pageSize = this.tableData.pageSize,\r\n        pageNumber = this.tableData.pageNumber) {\r\n        try {\r\n          this.loading.table = true;\r\n          let tableResponse = await this.$api.clients.getClientsByPage(pageSize, pageNumber,\r\n            this.searchForm);\r\n          let data = tableResponse.data.data;\r\n          this.tableData.data = data.list;\r\n          this.tableData.total = data.total;\r\n          this.tableData.pageSize = data.pageSize;\r\n          this.tableData.pageNumber = data.pageNum;\r\n          this.loading.table = false;\r\n          this.loading.search = false;\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.$message({\r\n            showClose: true,\r\n            message: error.data.meta.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n      },\r\n      /**\r\n       * 刷新表格内容\r\n       */\r\n      refreshTable() {\r\n        this.loading.search = true;\r\n        this.fetchTableData(this.tableData.pageSize, 1, this.searchForm);\r\n      },\r\n      /**\r\n       * 分页条数改变监听\r\n       * @param {number} pageSize\r\n       */\r\n      pageSizeChangeHandler(pageSize) {\r\n        this.fetchTableData(pageSize, 1);\r\n      },\r\n      /**\r\n       * 分页页码改变监听\r\n       * @param {number} pageNumber\r\n       */\r\n      pageNumberChangeHandler(pageNumber) {\r\n        this.fetchTableData(this.tableData.pageSize, pageNumber);\r\n      },\r\n      /**\r\n       * 新增系统\r\n       */\r\n      add() {\r\n        this.$refs[this.ref.dialog].showAddClientDialog();\r\n      },\r\n      /**\r\n       * 编辑系统\r\n       * @param {Object} row\r\n       */\r\n      edit(row) {\r\n        this.$refs[this.ref.dialog].showEditClientDialog(row.clientId);\r\n      },\r\n      authorize(row) {\r\n        if (row.state === '10A') {\r\n          this.$refs[this.ref.authorize].showClientAuthDialog(row.clientId, row.clientName);\r\n        } else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请先激活系统, 再进行授权!',\r\n            type: 'error'\r\n          });\r\n        }\r\n      },\r\n      /**\r\n       * 激活系统\r\n       * @param {Object} row\r\n       */\r\n      enable(row) {\r\n        this.$confirm(`此操作将激活【${row.clientName}】，是否继续？`, '激活', {\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$api.clients.enableClient(row.clientId)\r\n          .then((response) => {\r\n            this.fetchTableData();\r\n            this.$message({\r\n              type: 'success',\r\n              message: response.data.meta.message\r\n            });\r\n          }).catch((error) => {\r\n            this.$message({\r\n              showClose: true,\r\n              message: error.data.meta.message,\r\n              type: 'error'\r\n            });\r\n          });\r\n        });\r\n      },\r\n      /**\r\n       * 禁用系统\r\n       * @param {Object} row\r\n       */\r\n      async disable(row) {\r\n        let res = await this.$api.clients.getRelatedRoles(row.clientId);\r\n        console.log(res);\r\n        if (res.data.data && res.data.data.length) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '该系統存在角色引用，请先解除挂载再注销！',\r\n            type: 'error'\r\n          });\r\n          return false;\r\n        }\r\n        this.$confirm(`此操作将注销【${row.clientName}】，是否继续？`, '注销', {\r\n          type: 'warning'\r\n        }).then(() => {\r\n          return this.$api.clients.disableClient(row.clientId);\r\n        }).then((response) => {\r\n          this.fetchTableData();\r\n          this.$message({\r\n            type: 'success',\r\n            message: response.data.meta.message\r\n          });\r\n        }).catch((error) => {\r\n          this.$message({\r\n            showClose: true,\r\n            message: error.data.meta.message,\r\n            type: 'error'\r\n          });\r\n        });\r\n      }\r\n    },\r\n    created() {\r\n      this.fetchTableData();\r\n    }\r\n  };\r\n\r\n</script>\r\n<style >\r\n  .el-table th{\r\n   background-color:#e8f1f9;\r\n   font-weight: 545;\r\n   text-align: center;\r\n}\r\n  .el-table td{\r\n    text-align: center;\r\n  }\r\n.formHeaderStyle {\r\n  margin-left: 15px !important;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientSection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientSection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClientSection.vue?vue&type=template&id=61e55b94\"\nimport script from \"./ClientSection.vue?vue&type=script&lang=js\"\nexport * from \"./ClientSection.vue?vue&type=script&lang=js\"\nimport style0 from \"./ClientSection.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}